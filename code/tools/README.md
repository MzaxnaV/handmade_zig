# Custom tools

1. [wave generator script](./gen_wav.py)
    - Generates 1 second sine wave assuming `py` is available.
    - Run `zig build gen_wav --summary all`.
2. [llvm-mca parser](./parse_llvm_mca.zig)
    - Runs `llvm-mca` assuming it's available.
    - Parses the output to [markdown](/misc/llvm_mca_output.md), assumes above generation was successful.
    - Run `zig build parse_llvm_mca --summary all`.
3. [preprocess timed blocks](./process_timed_blocks.zig)
    - No `COUNTER` equivalent in zig and there's no clean way to have a global comptime counter.
    - Runs before building handmade lib target, finds `TIMED_BLOCK()`s and generates `TIMED_BLOCK__impl()` calls in the zig files.
    - Assumes a `import("debug")` to be present in zig files on the top two lines.
    - Assumes `AUTOGENERATED` tags be surrounding the generated `TIMED_BLOCK__impl()` calls.
    - TODO: overwrite the hardcoded return value on `__COUNTER__()`.